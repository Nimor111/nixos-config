#+TITLE:   Nixos configuration
#+DATE:    March 15, 2020

** Steps to use
1. Create a new configuration in the [[./machine][machine]] directory (with a ~default.nix~ and
   a ~hardware.nix~) and symlink the ~default.nix~ to ~/etc/nixos/configuration.nix~:
   #+BEGIN_SRC bash
   sudo ln -s machine/<machine>/default.nix /etc/nixos/configuration.nix
   #+END_SRC
2. Symlink the overlays:
   #+BEGIN_SRC bash
   sudo ln -s overlays /etc/nixos/overlays
   #+END_SRC
3. Rebuild the nixos configuration:
   #+BEGIN_SRC bash
   nix-shell --run 'rebuild'
   #+END_SRC

** Structure
- [[./machine][machine]] - machine configurations
- [[./modules][modules]] - reusable chunks to build a machine configuration. Includes
  modules from [[https://github.com/rycee/home-manager][home-manager]] and ~nixos~
- ~source.*~ - [[https://github.com/nmattia/niv][niv]] files
